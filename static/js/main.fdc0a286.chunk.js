(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{46:function(e,t,n){e.exports=n(79)},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),c=n.n(o),l=n(5),u=n(36),i=n.n(u),s=n(81),d=n(8),f=function(){return a.a.createElement("div",{className:"loader"},a.a.createElement("div",{className:"circle c_1"}),a.a.createElement("div",{className:"circle c_2"}),a.a.createElement("div",{className:"circle c_3"}))},m=function(e){return Object(l.b)((function(e){return{authenticated:e.auth.authenticated}}))((function(t){return Object(r.useEffect)((function(){var e=t.authenticated,n=t.history;!e&&n.push("/")})),a.a.createElement(e,t)}))},O=function(e){var t=e.user;return a.a.createElement("nav",{className:"header"},a.a.createElement("div",{className:"user"},t.UserName))},p=n(4),E=n(18),b=n.n(E),h="https://fakerestapi.azurewebsites.net/api",g="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJfaWQiOiI1YTVlZTUxOWQ3NDg4MzAwMTIzMzRmZDgiLCJpYXQiOjE1NzMzNDA5NDIyNDMsImV4cCI6MTU3NTkzMjk0MjI0M30.itWcbMuYF3rvfQH4FDNSDtiaLRksg_TEPhMiOQN1k0M",v=n(19),y=n.n(v),j=y()({AUTH_TOKEN:null,AUTH_USER:null,AUTH_ERROR:null,AUTH_REQUEST:null}),T=j.AUTH_TOKEN,D=j.AUTH_USER,N=j.AUTH_ERROR,S=j.AUTH_REQUEST,C=b.a.create({baseURL:h});function I(e){return{type:N,payload:e}}var w=function(e){var t=e.value,n=e.onBlur,r=void 0===n?function(){return!1}:n,o=e.onChange,c=e.autoFocus,l=void 0!==c&&c,u=e.placeholder,i=void 0===u?"":u,s=e.type,d=void 0===s?"text":s;return a.a.createElement("input",{type:d,className:"text_input",value:t,onChange:function(e){return o(e.target.value)},onBlur:r,autoFocus:l,placeholder:i})},k=Object(l.b)((function(e){return{loading:e.auth.loading}}),(function(e){return{signUp:function(t){return e(function(e){var t=e.email,n=e.password;return function(e){e({type:S}),C.post("/Users",{UserName:t,Password:n}).then((function(){localStorage.setItem("token",g),e({type:T})})).catch((function(t){return e(I(t))}))}}(t))}}}))((function(e){var t=e.signUp,n=e.loading,o=Object(r.useState)(""),c=Object(p.a)(o,2),l=c[0],u=c[1],i=Object(r.useState)(""),s=Object(p.a)(i,2),d=s[0],m=s[1];return a.a.createElement(a.a.Fragment,null,n?a.a.createElement(f,null):a.a.createElement("div",{className:"auth"},a.a.createElement(w,{value:l,onChange:function(e){return u(e)},placeholder:"email"}),a.a.createElement(w,{value:d,onChange:function(e){return m(e)},placeholder:"password",type:"password"}),a.a.createElement("button",{type:"button",onClick:function(){return t({email:l,password:d})},disabled:!l.trim().length||!d.trim().length},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")))})),P=n(14),U=y()({PENDING:null,GETTODOS:null,GETTODOSERROR:null,CHANGETODOTITLE:null,TOGGLETODOCOMPLETED:null}),_=U.GETTODOS,R=U.PENDING,A=U.CHANGETODOTITLE,H=U.TOGGLETODOCOMPLETED,G=U.GETTODOSERROR,M=b.a.create({baseURL:h});var L=n(12),B=n.n(L),J=n(20),Q=n.n(J),x=function(e){var t=e.onChange,n=e.value,r=e.setEditingId,o=e.isEditing,c=e.className,l=e.ID,u=function(){r(null),r(l)};return a.a.createElement(a.a.Fragment,null,o?a.a.createElement("td",{className:B()(c,{isEditing:o})},a.a.createElement(w,{value:n,onBlur:function(){return r(null)},onChange:t})):a.a.createElement("td",{onClick:u,onFocus:u,className:c},n))},z=function(e){var t=e.item,n=t.Title,r=t.ID,o=t.DueDate,c=t.Completed,l=e.onSelect,u=e.checked,i=e.handleChange,s=e.setEditingId,d=e.isEditing,f=e.toggleCompleted,m=Q()(o),O=m.format("YYYY.MM.DD"),p=m.format("HH:mm");return a.a.createElement("tr",{className:B()("todo",{checked:u})},a.a.createElement("td",{className:"todo_action"},a.a.createElement("input",{type:"checkbox",onChange:function(){return l(r)},checked:u})),a.a.createElement("td",{className:"todo_id"},r),a.a.createElement(x,{onChange:function(e){return i({ID:r,value:e})},value:n,ID:r,setEditingId:s,isEditing:d,className:"todo_title"}),a.a.createElement("td",null,"".concat(O,"__").concat(p)),a.a.createElement("td",{className:"todo_status ".concat(c?"completed":""),onClick:function(){return f([r])}},c.toString()))},F=n(9),Y=n(45),K=function(e){var t=e.label,n=e.className,r=e.sortBy,o=e.sortOrder,c=e.sortName,l=e.handleSort,u=e.defaultSortOrder,i=e.children,s=Object(Y.a)(e,["label","className","sortBy","sortOrder","sortName","handleSort","defaultSortOrder","children"]),d=c===r,f=B()("table-cell sorting",Object(F.a)({},n,n)),m=B()("sort_icon",{sortByCurrent:d,asc:"asc"===o,desc:"desc"===o});return a.a.createElement("th",Object.assign({},s,{className:f,onClick:function(){l(c,d?"asc"===o?"desc":"asc":u||"asc")}}),t,a.a.createElement("span",{className:m},"desc"===o?"\\/":"/\\"),i)};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var V=function(e,t){return a.a.createElement(a.a.Fragment,null,e.map((function(e,n){return Object(r.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{key:n}))})))},X=function(e){return"asc"===e?1:-1},Z=function(e,t,n,r,a){var o=Object(P.a)(e);return n&&(o=o.sort((function(e,o){var c,l=a[n],u=l(t[e][n]),i=l(t[o][n]);return(c=r,function(e,t){return e<=t?-1*X(c):X(c)})(u,i)}))),o},$=function(e){return e.map((function(e){return"".concat(e)}))},q={ID:function(e){return Number(e)},Title:function(e){return Number(Array.from(e.replace(" ","")).map((function(e){return e.charCodeAt(0).toString(2)})).join(""))},DueDate:function(e){return Q()(e).valueOf()},Completed:function(e){return Number(JSON.parse(e))}},ee=Object(l.b)((function(e){var t=e.app;return{todos:t.todos,loading:t.loading}}),(function(e){return{getTodos:function(){return e((function(e){return e({type:R}),M.get("/Activities").then((function(t){var n=t.data;e({type:_,payload:n})})).catch((function(t){return console.error({err:t}),e({type:G})}))}))},changeTodoTitle:function(t){return e({type:A,payload:t})},toggleTodoCompleted:function(t){return e({type:H,payload:t})}}}))((function(e){var t=e.todos,n=e.loading,o=e.getTodos,c=e.changeTodoTitle,l=e.toggleTodoCompleted,u=Object(r.useState)([]),i=Object(p.a)(u,2),s=i[0],d=i[1],f=Object(r.useState)(!1),m=Object(p.a)(f,2),O=m[0],E=m[1],b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(r.useState)(e),a=Object(p.a)(n,2),o=a[0],c=a[1],l=Object(r.useState)(t),u=Object(p.a)(l,2),i=u[0],s=u[1],d=function(e,t){c(e),s(t)};return[o,i,d]}(null,"desc"),h=Object(p.a)(b,3),g=h[0],v=h[1],y=h[2],j=Object(r.useState)(null),T=Object(p.a)(j,2),D=T[0],N=T[1],S={sortBy:g,sortOrder:v,handleSort:y,defaultSortOrder:"desc"},C=Object.keys(t),I=C.length,w=function(e){return s.includes(e)};Object(r.useEffect)((function(){o()}),[o]);var k=function(e){if(w(e))d(s.filter((function(t){return t!==e}))),E(!1);else{var t=[].concat(Object(P.a)(s),[e]);d([].concat(Object(P.a)(s),[e])),t.length===I&&E(!0)}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return N(e)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return l($(e))},R=Z(C,t,g,v,q);return a.a.createElement("table",{className:"todos container"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement("input",{type:"checkbox",onChange:function(e){var n=e.target.checked;E(n),d(n?C.map((function(e){return t[e].ID})):[])},checked:O})),V([a.a.createElement(K,{label:"\u2116",sortName:"ID"}),a.a.createElement(K,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sortName:"Title"}),a.a.createElement(K,{label:"\u0412\u0440\u0435\u043c\u044f",sortName:"DueDate"}),a.a.createElement(K,{label:"\u0421\u0442\u0430\u0442\u0443\u0441",sortName:"Completed",className:"todo_header_status"},s.length?a.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),l($(s))},disabled:!s.length},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"):null)],S))),a.a.createElement("tbody",null,!n&&R.length?R.map((function(e){var n=t[e];return a.a.createElement(z,{key:n.ID,item:n,onSelect:k,checked:w(n.ID),handleChange:c,setEditingId:U,isEditing:D===n.ID,toggleCompleted:_})})):null))})),te=Object(d.a)(),ne=Object(l.b)((function(e){return{user:e.auth.user}}))((function(e){var t=e.user;return a.a.createElement(s.b,{history:te},a.a.createElement(i.a,{htmlAttributes:{class:"theme-".concat(1)}}),t&&a.a.createElement(O,{user:t}),a.a.createElement(s.c,null,a.a.createElement(s.a,{exact:!0,path:"/",component:k}),a.a.createElement(s.a,{exact:!0,path:"/todos",component:m(ee)})))})),re=n(11),ae=n(38),oe=n(39);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=U.GETTODOS,ie=U.PENDING,se=U.CHANGETODOTITLE,de=U.TOGGLETODOCOMPLETED,fe={todos:{},loading:!1};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=j.AUTH_TOKEN,Ee=j.AUTH_ERROR,be=j.AUTH_USER,he=j.AUTH_REQUEST,ge={loading:!1};var ve=Object(re.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;return r===he?Oe({},e,{loading:!0}):r===pe?Oe({},e,{authenticated:!0,loading:!1,error:""}):r===be?Oe({},e,{user:n}):r===Ee?Oe({},e,{loading:!1,error:n}):e},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;if(r===ue){var a={};return n.forEach((function(e){a[e.ID]=e})),le({},e,{todos:a,loading:!1})}if(r===ie)return le({},e,{loading:!0});if(r===se){var o=e.todos;return le({},e,{todos:le({},o,Object(F.a)({},n.ID,le({},o[n.ID],{Title:n.value})))})}if(r===de){var c=le({},e.todos);return n.forEach((function(e){c[e]=le({},c[e],{Completed:!c[e].Completed})})),le({},e,{todos:c})}return e}}),ye=j.AUTH_TOKEN,je=function(e){return function(t){return function(n){if(n.type===ye){var r=localStorage.getItem("token");r&&e.dispatch((function(e){C.get("/Users/".concat(1)).then((function(t){var n=t.data;e({type:D,payload:n})})).catch((function(t){e(I(t))}))}))}return t(n)}}},Te=j.AUTH_USER,De=function(){return function(e){return function(t){return t.type===Te&&te.push("/todos"),e(t)}}};var Ne=function(e){var t=Object(ae.createLogger)();return Object(re.e)(ve,e,Object(re.d)(Object(re.a)(oe.a,t,je,De)))},Se=n(40),Ce=n(41),Ie=n(43),we=n(42),ke=n(44),Pe=function(e){function t(e){var n;return Object(Se.a)(this,t),(n=Object(Ie.a)(this,Object(we.a)(t).call(this,e))).state={error:null,errorInfo:null},n}return Object(ke.a)(t,e),Object(Ce.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){var e=this.state,t=(e.error,e.errorInfo),n=this.props.children;return t?a.a.createElement("div",{className:"errorBoundary"},a.a.createElement("h2",null,"Something went wrong."),a.a.createElement("details",null,a.a.createElement("br",null),t.componentStack)):n}}]),t}(r.Component),Ue=j.AUTH_TOKEN,_e=Ne();localStorage.getItem("token")&&_e.dispatch({type:Ue});var Re=function(){return a.a.createElement(Pe,null,a.a.createElement(l.a,{store:_e},a.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(78);c.a.render(a.a.createElement(Re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.fdc0a286.chunk.js.map
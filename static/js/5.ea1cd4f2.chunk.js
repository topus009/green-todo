(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[5],{87:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){var t=e.value,n=e.onBlur,a=void 0===n?function(){return!1}:n,o=e.onChange,c=e.autoFocus,l=void 0!==c&&c,u=e.placeholder,i=void 0===u?"":u,s=e.type,d=void 0===s?"text":s;return r.a.createElement("input",{type:d,className:"text_input",value:t,onChange:function(e){return o(e.target.value)},onBlur:a,autoFocus:l,placeholder:i})}},94:function(e,t,n){"use strict";n.r(t);var a=n(90),r=n(86),o=n(0),c=n.n(o),l=n(10),u=n(30),i=n.n(u),s=n(20),d=n(13),m=d.a.GETTODOS,f=d.a.PENDING,g=d.a.CHANGETODOTITLE,p=d.a.TOGGLETODOCOMPLETED,O=d.a.GETTODOSERROR,b=i.a.create({baseURL:s.a});var h=n(88),E=n.n(h),v=n(89),y=n.n(v),j=n(87),D=function(e){var t=e.onChange,n=e.value,a=e.setEditingId,r=e.isEditing,o=e.className,l=e.ID,u=function(){a(null),a(l)};return c.a.createElement(c.a.Fragment,null,r?c.a.createElement("td",{className:E()(o,{isEditing:r})},c.a.createElement(j.a,{value:n,onBlur:function(){return a(null)},onChange:t})):c.a.createElement("td",{onClick:u,onFocus:u,className:o},n))},N=function(e){var t=e.item,n=t.Title,a=t.ID,r=t.DueDate,o=t.Completed,l=e.onSelect,u=e.checked,i=e.handleChange,s=e.setEditingId,d=e.isEditing,m=e.toggleCompleted,f=y()(r),g=f.format("YYYY.MM.DD"),p=f.format("HH:mm");return c.a.createElement("tr",{className:E()("todo",{checked:u})},c.a.createElement("td",{className:"todo_action"},c.a.createElement("input",{type:"checkbox",onChange:function(){return l(a)},checked:u})),c.a.createElement("td",{className:"todo_id"},a),c.a.createElement(D,{onChange:function(e){return i({ID:a,value:e})},value:n,ID:a,setEditingId:s,isEditing:d,className:"todo_title"}),c.a.createElement("td",null,"".concat(g,"__").concat(p)),c.a.createElement("td",{className:"todo_status ".concat(o?"completed":""),onClick:function(){return m([a])}},o.toString()))},C=n(11),T=n(92),S=function(e){var t=e.label,n=e.className,a=e.sortBy,r=e.sortOrder,o=e.sortName,l=e.handleSort,u=e.defaultSortOrder,i=e.children,s=Object(T.a)(e,["label","className","sortBy","sortOrder","sortName","handleSort","defaultSortOrder","children"]),d=o===a,m=E()("table-cell sorting",Object(C.a)({},n,n)),f=E()("sort_icon",{sortByCurrent:d,asc:"asc"===r,desc:"desc"===r});return c.a.createElement("th",Object.assign({},s,{className:m,onClick:function(){l(o,d?"asc"===r?"desc":"asc":u||"asc")}}),t,c.a.createElement("span",{className:f},"desc"===r?"\\/":"/\\"),i)};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=function(e,t){return c.a.createElement(c.a.Fragment,null,e.map((function(e,n){return Object(o.cloneElement)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){Object(C.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{key:n}))})))},P=function(e){return"asc"===e?1:-1},_=function(e,t,n,r,o){var c=Object(a.a)(e);return n&&(c=c.sort((function(e,a){var c,l=o[n],u=l(t[e][n]),i=l(t[a][n]);return(c=r,function(e,t){return e<=t?-1*P(c):P(c)})(u,i)}))),c},w=function(e){return e.map((function(e){return"".concat(e)}))},B={ID:function(e){return Number(e)},Title:function(e){return Number(Array.from(e.replace(" ","")).map((function(e){return e.charCodeAt(0).toString(2)})).join(""))},DueDate:function(e){return y()(e).valueOf()},Completed:function(e){return Number(JSON.parse(e))}};t.default=Object(l.b)((function(e){var t=e.app;return{todos:t.todos,loading:t.loading}}),(function(e){return{getTodos:function(){return e((function(e){return e({type:f}),b.get("/Activities").then((function(t){var n=t.data;e({type:m,payload:n})})).catch((function(t){return console.error({err:t}),e({type:O})}))}))},changeTodoTitle:function(t){return e({type:g,payload:t})},toggleTodoCompleted:function(t){return e({type:p,payload:t})}}}))((function(e){var t=e.todos,n=e.loading,l=e.getTodos,u=e.changeTodoTitle,i=e.toggleTodoCompleted,s=Object(o.useState)([]),d=Object(r.a)(s,2),m=d[0],f=d[1],g=Object(o.useState)(!1),p=Object(r.a)(g,2),O=p[0],b=p[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(o.useState)(e),a=Object(r.a)(n,2),c=a[0],l=a[1],u=Object(o.useState)(t),i=Object(r.a)(u,2),s=i[0],d=i[1],m=function(e,t){l(e),d(t)};return[c,s,m]}(null,"desc"),E=Object(r.a)(h,3),v=E[0],y=E[1],j=E[2],D=Object(o.useState)(null),C=Object(r.a)(D,2),T=C[0],k=C[1],P={sortBy:v,sortOrder:y,handleSort:j,defaultSortOrder:"desc"},G=Object.keys(t),F=G.length,x=function(e){return m.includes(e)};Object(o.useEffect)((function(){l()}),[l]);var A=function(e){if(x(e))f(m.filter((function(t){return t!==e}))),b(!1);else{var t=[].concat(Object(a.a)(m),[e]);f([].concat(Object(a.a)(m),[e])),t.length===F&&b(!0)}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return k(e)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i(w(e))},Y=_(G,t,v,y,B);return c.a.createElement("table",{className:"todos container"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,c.a.createElement("input",{type:"checkbox",onChange:function(e){var n=e.target.checked;b(n),f(n?G.map((function(e){return t[e].ID})):[])},checked:O})),I([c.a.createElement(S,{label:"\u2116",sortName:"ID"}),c.a.createElement(S,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sortName:"Title"}),c.a.createElement(S,{label:"\u0412\u0440\u0435\u043c\u044f",sortName:"DueDate"}),c.a.createElement(S,{label:"\u0421\u0442\u0430\u0442\u0443\u0441",sortName:"Completed",className:"todo_header_status"},m.length?c.a.createElement("button",{type:"button",onClick:function(e){e.stopPropagation(),i(w(m))},disabled:!m.length},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"):null)],P))),c.a.createElement("tbody",null,!n&&Y.length?Y.map((function(e){var n=t[e];return c.a.createElement(N,{key:n.ID,item:n,onSelect:A,checked:x(n.ID),handleChange:u,setEditingId:L,isEditing:T===n.ID,toggleCompleted:R})})):null))}))}}]);
//# sourceMappingURL=5.ea1cd4f2.chunk.js.map